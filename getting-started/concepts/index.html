<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Task Orchestration and Execution Framework Documentation" name=description><link href=https://aipartnerup.github.io/apflow/getting-started/concepts/ rel=canonical><link href=../installation/ rel=prev><link href=../examples/ rel=next><link href=../../assets/favicon.ico rel=icon><meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name=generator><title>Core Concepts - apflow Documentation</title><link href=../../assets/stylesheets/main.484c7ddc.min.css rel=stylesheet><link href=../../assets/stylesheets/palette.ab4e12ef.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body data-md-color-accent=indigo data-md-color-primary=indigo data-md-color-scheme=default dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#core-concepts> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label="apflow Documentation" class="md-header__button md-logo" data-md-component=logo href=../.. title="apflow Documentation"> <img alt=logo src=../../assets/logo.svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> apflow Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Core Concepts </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent=indigo data-md-color-media data-md-color-primary=indigo data-md-color-scheme=default id=__palette_0 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent=indigo data-md-color-media data-md-color-primary=indigo data-md-color-scheme=slate id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_0 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix tabindex=0> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/aipartnerup/apflow title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> aipartnerup/apflow </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav aria-label=Tabs class=md-tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a class=md-tabs__link href=../..> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../guides/task-orchestration/ class=md-tabs__link> Guides </a> </li> <li class=md-tabs__item> <a href=../../cli/ class=md-tabs__link> CLI </a> </li> <li class=md-tabs__item> <a href=../../api/python/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../examples/basic_task/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../../architecture/overview/ class=md-tabs__link> Architecture </a> </li> <li class=md-tabs__item> <a href=../../protocol/ class=md-tabs__link> Protocol </a> </li> <li class=md-tabs__item> <a href=../../development/setup/ class=md-tabs__link> Development </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=Navigation class="md-nav md-nav--primary md-nav--lifted" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="apflow Documentation" class="md-nav__button md-logo" data-md-component=logo href=../.. title="apflow Documentation"> <img alt=logo src=../../assets/logo.svg> </a> apflow Documentation </label> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/aipartnerup/apflow title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> aipartnerup/apflow </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../..> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=true aria-labelledby=__nav_2_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../hello-world/ class=md-nav__link> <span class=md-ellipsis> Hello World </span> </a> </li> <li class=md-nav__item> <a href=../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Core Concepts </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Core Concepts </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#why-these-concepts-matter> <span class=md-ellipsis> Why These Concepts Matter </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-is-a-task> <span class=md-ellipsis> What is a Task? </span> </a> <nav aria-label="What is a Task?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code> <span class=md-ellipsis> In Code </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-is-task-orchestration> <span class=md-ellipsis> What is Task Orchestration? </span> </a> <nav aria-label="What is Task Orchestration?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy_1> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#why-it-matters> <span class=md-ellipsis> Why It Matters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-is-a-task-tree> <span class=md-ellipsis> What is a Task Tree? </span> </a> <nav aria-label="What is a Task Tree?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#visual-example> <span class=md-ellipsis> Visual Example </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#key-points> <span class=md-ellipsis> Key Points </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code_1> <span class=md-ellipsis> In Code </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-are-dependencies> <span class=md-ellipsis> What are Dependencies? </span> </a> <nav aria-label="What are Dependencies?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy_2> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#visual-example_1> <span class=md-ellipsis> Visual Example </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code_2> <span class=md-ellipsis> In Code </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#important-distinction> <span class=md-ellipsis> Important Distinction </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-are-executors> <span class=md-ellipsis> What are Executors? </span> </a> <nav aria-label="What are Executors?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#types-of-executors> <span class=md-ellipsis> Types of Executors </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy_3> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code_3> <span class=md-ellipsis> In Code </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-is-taskmanager> <span class=md-ellipsis> What is TaskManager? </span> </a> <nav aria-label="What is TaskManager?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#what-taskmanager-does> <span class=md-ellipsis> What TaskManager Does </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#taskmanager-workflow> <span class=md-ellipsis> TaskManager Workflow </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy_4> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code_4> <span class=md-ellipsis> In Code </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#task-lifecycle> <span class=md-ellipsis> Task Lifecycle </span> </a> <nav aria-label="Task Lifecycle" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#states-explained> <span class=md-ellipsis> States Explained </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#visual-flow> <span class=md-ellipsis> Visual Flow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#priorities> <span class=md-ellipsis> Priorities </span> </a> <nav aria-label=Priorities class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#priority-levels> <span class=md-ellipsis> Priority Levels </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#example> <span class=md-ellipsis> Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#putting-it-all-together> <span class=md-ellipsis> Putting It All Together </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#key-takeaways> <span class=md-ellipsis> Key Takeaways </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#next-steps> <span class=md-ellipsis> Next Steps </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#task-data-fields-inputs-params-and-result> <span class=md-ellipsis> Task Data Fields: inputs, params, and result </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_2_7 type=checkbox> <label class=md-nav__link for=__nav_2_7 id=__nav_2_7_label tabindex> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_2_7_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tutorials/tutorial-01-first-steps/ class=md-nav__link> <span class=md-ellipsis> First Steps </span> </a> </li> <li class=md-nav__item> <a href=../tutorials/tutorial-02-task-trees/ class=md-nav__link> <span class=md-ellipsis> Task Trees </span> </a> </li> <li class=md-nav__item> <a href=../tutorials/tutorial-03-dependencies/ class=md-nav__link> <span class=md-ellipsis> Dependencies </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_3 type=checkbox> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Guides </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_3_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guides/task-orchestration/ class=md-nav__link> <span class=md-ellipsis> Task Orchestration </span> </a> </li> <li class=md-nav__item> <a href=../../guides/executor-selection/ class=md-nav__link> <span class=md-ellipsis> Executor Selection </span> </a> </li> <li class=md-nav__item> <a href=../../guides/custom-tasks/ class=md-nav__link> <span class=md-ellipsis> Custom Tasks </span> </a> </li> <li class=md-nav__item> <a href=../../guides/best-practices/ class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> </li> <li class=md-nav__item> <a href=../../guides/cli/ class=md-nav__link> <span class=md-ellipsis> CLI </span> </a> </li> <li class=md-nav__item> <a href=../../guides/api-server/ class=md-nav__link> <span class=md-ellipsis> API Server </span> </a> </li> <li class=md-nav__item> <a href=../../guides/distributed-cluster/ class=md-nav__link> <span class=md-ellipsis> Distributed Cluster </span> </a> </li> <li class=md-nav__item> <a href=../../guides/library-usage/ class=md-nav__link> <span class=md-ellipsis> Library Usage </span> </a> </li> <li class=md-nav__item> <a href=../../guides/scheduler/ class=md-nav__link> <span class=md-ellipsis> Scheduler </span> </a> </li> <li class=md-nav__item> <a href=../../guides/extensions/ class=md-nav__link> <span class=md-ellipsis> Extensions </span> </a> </li> <li class=md-nav__item> <a href=../../guides/environment-variables/ class=md-nav__link> <span class=md-ellipsis> Environment Variables </span> </a> </li> <li class=md-nav__item> <a href=../../guides/faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_4 type=checkbox> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> CLI </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_4_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> CLI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../cli/commands/ class=md-nav__link> <span class=md-ellipsis> Commands </span> </a> </li> <li class=md-nav__item> <a href=../../cli/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../cli/examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class=md-nav__item> <a href=../../cli/api-gateway/ class=md-nav__link> <span class=md-ellipsis> API Gateway </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_5 type=checkbox> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../api/python/ class=md-nav__link> <span class=md-ellipsis> Python API </span> </a> </li> <li class=md-nav__item> <a href=../../api/http/ class=md-nav__link> <span class=md-ellipsis> HTTP API </span> </a> </li> <li class=md-nav__item> <a href=../../api/graphql/ class=md-nav__link> <span class=md-ellipsis> GraphQL API </span> </a> </li> <li class=md-nav__item> <a href=../../api/quick-reference/ class=md-nav__link> <span class=md-ellipsis> Quick Reference </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_6 type=checkbox> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_6_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../examples/basic_task/ class=md-nav__link> <span class=md-ellipsis> Basic Tasks </span> </a> </li> <li class=md-nav__item> <a href=../../examples/task-tree/ class=md-nav__link> <span class=md-ellipsis> Task Trees </span> </a> </li> <li class=md-nav__item> <a href=../../examples/real-world/ class=md-nav__link> <span class=md-ellipsis> Real World </span> </a> </li> <li class=md-nav__item> <a href=../../examples/email-executor/ class=md-nav__link> <span class=md-ellipsis> Email Executor </span> </a> </li> <li class=md-nav__item> <a href=../../examples/generate-executor/ class=md-nav__link> <span class=md-ellipsis> Generate Executor </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_7 type=checkbox> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_7_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../architecture/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/diagrams/ class=md-nav__link> <span class=md-ellipsis> Diagrams </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/directory-structure/ class=md-nav__link> <span class=md-ellipsis> Directory Structure </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/extension-registry-design/ class=md-nav__link> <span class=md-ellipsis> Extension Registry </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/task-manager/ class=md-nav__link> <span class=md-ellipsis> Task Manager </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/exception-handling/ class=md-nav__link> <span class=md-ellipsis> Exception Handling </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../architecture/task-tree-lifecycle/ class=md-nav__link> <span class=md-ellipsis> Task Tree Lifecycle </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_8 type=checkbox> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Protocol </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_8_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Protocol </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../protocol/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../protocol/01-overview/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../protocol/02-core-concepts/ class=md-nav__link> <span class=md-ellipsis> Core Concepts </span> </a> </li> <li class=md-nav__item> <a href=../../protocol/03-data-model/ class=md-nav__link> <span class=md-ellipsis> Data Model </span> </a> </li> <li class=md-nav__item> <a href=../../protocol/04-execution-lifecycle/ class=md-nav__link> <span class=md-ellipsis> Execution Lifecycle </span> </a> </li> <li class=md-nav__item> <a href=../../protocol/05-examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class=md-nav__item> <a href=../../protocol/06-interfaces/ class=md-nav__link> <span class=md-ellipsis> Interfaces </span> </a> </li> <li class=md-nav__item> <a href=../../protocol/07-conformance/ class=md-nav__link> <span class=md-ellipsis> Conformance </span> </a> </li> <li class=md-nav__item> <a href=../../protocol/08-errors/ class=md-nav__link> <span class=md-ellipsis> Errors </span> </a> </li> <li class=md-nav__item> <a href=../../protocol/09-validation/ class=md-nav__link> <span class=md-ellipsis> Validation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_9 type=checkbox> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_9_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../development/setup/ class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a href=../../development/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../../development/roadmap/ class=md-nav__link> <span class=md-ellipsis> Roadmap </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id=__nav_9_4 type=checkbox> <label class=md-nav__link for=__nav_9_4 id=__nav_9_4_label tabindex=0> <span class=md-ellipsis> Design </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_9_4_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_9_4> <span class="md-nav__icon md-icon"></span> Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../development/design/cli-design/ class=md-nav__link> <span class=md-ellipsis> CLI Design </span> </a> </li> <li class=md-nav__item> <a href=../../development/design/aggregate-results-design/ class=md-nav__link> <span class=md-ellipsis> Aggregate Results </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#why-these-concepts-matter> <span class=md-ellipsis> Why These Concepts Matter </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-is-a-task> <span class=md-ellipsis> What is a Task? </span> </a> <nav aria-label="What is a Task?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code> <span class=md-ellipsis> In Code </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-is-task-orchestration> <span class=md-ellipsis> What is Task Orchestration? </span> </a> <nav aria-label="What is Task Orchestration?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy_1> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#why-it-matters> <span class=md-ellipsis> Why It Matters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-is-a-task-tree> <span class=md-ellipsis> What is a Task Tree? </span> </a> <nav aria-label="What is a Task Tree?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#visual-example> <span class=md-ellipsis> Visual Example </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#key-points> <span class=md-ellipsis> Key Points </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code_1> <span class=md-ellipsis> In Code </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-are-dependencies> <span class=md-ellipsis> What are Dependencies? </span> </a> <nav aria-label="What are Dependencies?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy_2> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#visual-example_1> <span class=md-ellipsis> Visual Example </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code_2> <span class=md-ellipsis> In Code </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#important-distinction> <span class=md-ellipsis> Important Distinction </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-are-executors> <span class=md-ellipsis> What are Executors? </span> </a> <nav aria-label="What are Executors?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#types-of-executors> <span class=md-ellipsis> Types of Executors </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy_3> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code_3> <span class=md-ellipsis> In Code </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#what-is-taskmanager> <span class=md-ellipsis> What is TaskManager? </span> </a> <nav aria-label="What is TaskManager?" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#what-taskmanager-does> <span class=md-ellipsis> What TaskManager Does </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#taskmanager-workflow> <span class=md-ellipsis> TaskManager Workflow </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#real-world-analogy_4> <span class=md-ellipsis> Real-World Analogy </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#in-code_4> <span class=md-ellipsis> In Code </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#task-lifecycle> <span class=md-ellipsis> Task Lifecycle </span> </a> <nav aria-label="Task Lifecycle" class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#states-explained> <span class=md-ellipsis> States Explained </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#visual-flow> <span class=md-ellipsis> Visual Flow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#priorities> <span class=md-ellipsis> Priorities </span> </a> <nav aria-label=Priorities class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#priority-levels> <span class=md-ellipsis> Priority Levels </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#example> <span class=md-ellipsis> Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#putting-it-all-together> <span class=md-ellipsis> Putting It All Together </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#key-takeaways> <span class=md-ellipsis> Key Takeaways </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#next-steps> <span class=md-ellipsis> Next Steps </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#task-data-fields-inputs-params-and-result> <span class=md-ellipsis> Task Data Fields: inputs, params, and result </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=core-concepts>Core Concepts<a class=headerlink href=#core-concepts title="Permanent link">¶</a></h1> <p>Understanding these core concepts will help you use apflow effectively. Don't worry - we'll explain everything in simple terms!</p> <h2 id=why-these-concepts-matter>Why These Concepts Matter<a class=headerlink href=#why-these-concepts-matter title="Permanent link">¶</a></h2> <p>Before diving into the technical details, let's understand why these concepts exist and what problems they solve:</p> <p><strong>The Problem</strong>: When building applications, you often need to coordinate multiple operations that depend on each other. For example: - Fetch data from an API, then process it, then save it - Run multiple tasks in parallel, but wait for all to complete before proceeding - Handle failures gracefully and retry automatically - Track progress and state across long-running operations</p> <p><strong>Without a framework</strong>, you'd write custom code to: - Manually coordinate task execution order - Handle dependencies and wait conditions - Implement retry logic and error recovery - Track state and progress - Manage different execution methods (HTTP, SSH, Docker, etc.)</p> <p><strong>With apflow</strong>, these concepts provide a unified way to solve all these problems. The framework handles the complexity, so you can focus on your business logic.</p> <p>Now let's learn the core concepts that make this possible!</p> <h2 id=what-is-a-task>What is a Task?<a class=headerlink href=#what-is-a-task title="Permanent link">¶</a></h2> <p>A <strong>task</strong> is a unit of work that needs to be executed. Think of it like a function call, but with additional features like status tracking, dependencies, and persistence.</p> <h3 id=real-world-analogy>Real-World Analogy<a class=headerlink href=#real-world-analogy title="Permanent link">¶</a></h3> <p>Imagine you're cooking dinner: - <strong>Task</strong>: "Cook pasta" - <strong>Inputs</strong>: Pasta, water, salt - <strong>Result</strong>: Cooked pasta - <strong>Status</strong>: pending → in_progress → completed</p> <h3 id=in-code>In Code<a class=headerlink href=#in-code title="Permanent link">¶</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>task</span> <span class=o>=</span> <span class=k>await</span> <span class=n>task_repository</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"cook_pasta"</span><span class=p>,</span>           <span class=c1># What to do</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=n>inputs</span><span class=o>=</span><span class=p>{</span><span class=s2>"pasta"</span><span class=p>:</span> <span class=s2>"spaghetti"</span><span class=p>,</span> <span class=s2>"water"</span><span class=p>:</span> <span class=s2>"2L"</span><span class=p>},</span>  <span class=c1># What you need</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=n>user_id</span><span class=o>=</span><span class=s2>"chef123"</span>            <span class=c1># Who's doing it</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=p>)</span>
</span></code></pre></div> <h2 id=what-is-task-orchestration>What is Task Orchestration?<a class=headerlink href=#what-is-task-orchestration title="Permanent link">¶</a></h2> <p><strong>Task orchestration</strong> is the process of managing multiple tasks - deciding when they run, in what order, and how they relate to each other.</p> <h3 id=real-world-analogy_1>Real-World Analogy<a class=headerlink href=#real-world-analogy_1 title="Permanent link">¶</a></h3> <p>Think of a restaurant kitchen: - The <strong>chef</strong> (TaskManager) coordinates everything - Some dishes must be prepared in order (dependencies) - Some can be prepared simultaneously (parallel tasks) - The chef ensures everything is ready at the right time</p> <h3 id=why-it-matters>Why It Matters<a class=headerlink href=#why-it-matters title="Permanent link">¶</a></h3> <p>Without orchestration, you'd have to manually manage: - ✅ Which tasks to run - ✅ When to run them - ✅ What happens if one fails - ✅ How to track progress</p> <p>With apflow, the <strong>TaskManager</strong> handles all of this automatically!</p> <h2 id=what-is-a-task-tree>What is a Task Tree?<a class=headerlink href=#what-is-a-task-tree title="Permanent link">¶</a></h2> <p>A <strong>task tree</strong> is a hierarchical structure that organizes related tasks. It's like a family tree for your tasks.</p> <h3 id=visual-example>Visual Example<a class=headerlink href=#visual-example title="Permanent link">¶</a></h3> <pre class=mermaid><code>flowchart TD
    Root["Root Task: Prepare Dinner"] --&gt; Task1["Task 1: Buy Ingredients"]
    Root --&gt; Task2["Task 2: Cook Main Course"]
    Root --&gt; Task3["Task 3: Set Table"]

    Task1 --&gt; Task11["Task 1.1: Go to Store"]
    Task2 --&gt; Task21["Task 2.1: Cook Pasta"]
    Task2 --&gt; Task22["Task 2.2: Make Sauce"]

    style Root fill:#e1f5ff
    style Task1 fill:#fff4e1
    style Task2 fill:#fff4e1
    style Task3 fill:#fff4e1
    style Task11 fill:#e8f5e9
    style Task21 fill:#e8f5e9
    style Task22 fill:#e8f5e9</code></pre> <h3 id=key-points>Key Points<a class=headerlink href=#key-points title="Permanent link">¶</a></h3> <ul> <li><strong>Parent-Child Relationship</strong>: Used for organization only (like folders)</li> <li><strong>Dependencies</strong>: Control execution order (Task 2 waits for Task 1)</li> <li><strong>Root Task</strong>: The top-level task that contains everything</li> </ul> <h3 id=in-code_1>In Code<a class=headerlink href=#in-code_1 title="Permanent link">¶</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a><span class=c1># Create root task</span>
</span><span id=__span-1-2><a href=#__codelineno-1-2 id=__codelineno-1-2 name=__codelineno-1-2></a><span class=n>root</span> <span class=o>=</span> <span class=k>await</span> <span class=n>task_repository</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>"prepare_dinner"</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
</span><span id=__span-1-3><a href=#__codelineno-1-3 id=__codelineno-1-3 name=__codelineno-1-3></a>
</span><span id=__span-1-4><a href=#__codelineno-1-4 id=__codelineno-1-4 name=__codelineno-1-4></a><span class=c1># Create child tasks</span>
</span><span id=__span-1-5><a href=#__codelineno-1-5 id=__codelineno-1-5 name=__codelineno-1-5></a><span class=n>buy_ingredients</span> <span class=o>=</span> <span class=k>await</span> <span class=n>task_repository</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span>
</span><span id=__span-1-6><a href=#__codelineno-1-6 id=__codelineno-1-6 name=__codelineno-1-6></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"buy_ingredients"</span><span class=p>,</span>
</span><span id=__span-1-7><a href=#__codelineno-1-7 id=__codelineno-1-7 name=__codelineno-1-7></a>    <span class=n>parent_id</span><span class=o>=</span><span class=n>root</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>  <span class=c1># Child of root</span>
</span><span id=__span-1-8><a href=#__codelineno-1-8 id=__codelineno-1-8 name=__codelineno-1-8></a>    <span class=o>...</span>
</span><span id=__span-1-9><a href=#__codelineno-1-9 id=__codelineno-1-9 name=__codelineno-1-9></a><span class=p>)</span>
</span><span id=__span-1-10><a href=#__codelineno-1-10 id=__codelineno-1-10 name=__codelineno-1-10></a>
</span><span id=__span-1-11><a href=#__codelineno-1-11 id=__codelineno-1-11 name=__codelineno-1-11></a><span class=c1># Build tree</span>
</span><span id=__span-1-12><a href=#__codelineno-1-12 id=__codelineno-1-12 name=__codelineno-1-12></a><span class=n>tree</span> <span class=o>=</span> <span class=n>TaskTreeNode</span><span class=p>(</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-1-13><a href=#__codelineno-1-13 id=__codelineno-1-13 name=__codelineno-1-13></a><span class=n>tree</span><span class=o>.</span><span class=n>add_child</span><span class=p>(</span><span class=n>TaskTreeNode</span><span class=p>(</span><span class=n>buy_ingredients</span><span class=p>))</span>
</span></code></pre></div> <h2 id=what-are-dependencies>What are Dependencies?<a class=headerlink href=#what-are-dependencies title="Permanent link">¶</a></h2> <p><strong>Dependencies</strong> define relationships between tasks. A task with dependencies will wait for those tasks to complete before executing.</p> <h3 id=real-world-analogy_2>Real-World Analogy<a class=headerlink href=#real-world-analogy_2 title="Permanent link">¶</a></h3> <p>You can't serve dinner until: 1. ✅ Ingredients are bought (Task 1) 2. ✅ Food is cooked (Task 2) 3. ✅ Table is set (Task 3)</p> <p>Task 4 (Serve Dinner) <strong>depends on</strong> Tasks 1, 2, and 3.</p> <h3 id=visual-example_1>Visual Example<a class=headerlink href=#visual-example_1 title="Permanent link">¶</a></h3> <pre class=mermaid><code>sequenceDiagram
    participant TaskA as Task A: Fetch Data
    participant TaskB as Task B: Process Data
    participant TaskC as Task C: Save Results

    Note over TaskA: No dependencies&lt;br/&gt;Executes first
    TaskA-&gt;&gt;TaskA: Execute
    TaskA--&gt;&gt;TaskB: Result available

    Note over TaskB: Depends on Task A&lt;br/&gt;Waits for completion
    TaskB-&gt;&gt;TaskB: Execute (with Task A result)
    TaskB--&gt;&gt;TaskC: Result available

    Note over TaskC: Depends on Task B&lt;br/&gt;Waits for completion
    TaskC-&gt;&gt;TaskC: Execute (with Task B result)
    TaskC--&gt;&gt;TaskC: Complete</code></pre> <p><strong>Execution Order</strong>: A → B → C (automatic!)</p> <h3 id=in-code_2>In Code<a class=headerlink href=#in-code_2 title="Permanent link">¶</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=c1># Task B depends on Task A</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a><span class=n>task_b</span> <span class=o>=</span> <span class=k>await</span> <span class=n>task_repository</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span>
</span><span id=__span-2-3><a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"process_data"</span><span class=p>,</span>
</span><span id=__span-2-4><a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a>    <span class=n>dependencies</span><span class=o>=</span><span class=p>[</span>
</span><span id=__span-2-5><a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a>        <span class=p>{</span><span class=s2>"id"</span><span class=p>:</span> <span class=n>task_a</span><span class=o>.</span><span class=n>id</span><span class=p>,</span> <span class=s2>"required"</span><span class=p>:</span> <span class=kc>True</span><span class=p>}</span>  <span class=c1># Must wait for A</span>
</span><span id=__span-2-6><a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a>    <span class=p>],</span>
</span><span id=__span-2-7><a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a>    <span class=o>...</span>
</span><span id=__span-2-8><a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a><span class=p>)</span>
</span></code></pre></div> <h3 id=important-distinction>Important Distinction<a class=headerlink href=#important-distinction title="Permanent link">¶</a></h3> <ul> <li><strong>Parent-Child</strong>: Organizational (like folders) - doesn't affect execution</li> <li><strong>Dependencies</strong>: Execution control - determines when tasks run</li> </ul> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=c1># Task B is a child of Task A (organization)</span>
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a><span class=c1># But Task B depends on Task C (execution order)</span>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a><span class=n>task_b</span> <span class=o>=</span> <span class=k>await</span> <span class=n>task_repository</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span>
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a>    <span class=n>parent_id</span><span class=o>=</span><span class=n>task_a</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>  <span class=c1># Organizational: B is child of A</span>
</span><span id=__span-3-5><a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a>    <span class=n>dependencies</span><span class=o>=</span><span class=p>[{</span><span class=s2>"id"</span><span class=p>:</span> <span class=n>task_c</span><span class=o>.</span><span class=n>id</span><span class=p>}],</span>  <span class=c1># Execution: B waits for C</span>
</span><span id=__span-3-6><a href=#__codelineno-3-6 id=__codelineno-3-6 name=__codelineno-3-6></a>    <span class=o>...</span>
</span><span id=__span-3-7><a href=#__codelineno-3-7 id=__codelineno-3-7 name=__codelineno-3-7></a><span class=p>)</span>
</span></code></pre></div> <h2 id=what-are-executors>What are Executors?<a class=headerlink href=#what-are-executors title="Permanent link">¶</a></h2> <p>An <strong>executor</strong> is the code that actually runs a task. It's like a worker that knows how to do a specific job.</p> <h3 id=types-of-executors>Types of Executors<a class=headerlink href=#types-of-executors title="Permanent link">¶</a></h3> <ol> <li><strong>Built-in Executors</strong>: Provided by apflow</li> <li><strong>Core Executors</strong> (always available):<ul> <li><code>system_info_executor</code>: Get system information</li> <li><code>command_executor</code>: Run shell commands</li> <li><code>aggregate_results_executor</code>: Aggregate dependency results</li> </ul> </li> <li><strong>Remote Execution Executors</strong>:<ul> <li><code>rest_executor</code>: HTTP/REST API calls (requires <code>[http]</code>)</li> <li><code>ssh_executor</code>: Remote command execution via SSH (requires <code>[ssh]</code>)</li> <li><code>grpc_executor</code>: gRPC service calls (requires <code>[grpc]</code>)</li> <li><code>websocket_executor</code>: Bidirectional WebSocket communication</li> <li><code>apflow_api_executor</code>: Call other apflow API instances</li> <li><code>mcp_executor</code>: Model Context Protocol executor (stdio mode: no dependencies, HTTP mode: requires <code>[a2a]</code>)</li> </ul> </li> <li><strong>Protocol Servers</strong>:<ul> <li><code>a2a</code>: A2A Protocol Server (default)</li> <li><code>mcp</code>: MCP (Model Context Protocol) Server - exposes task orchestration as MCP tools and resources</li> </ul> </li> <li><strong>Container Executors</strong>:<ul> <li><code>docker_executor</code>: Containerized command execution (requires <code>[docker]</code>)</li> </ul> </li> <li><strong>AI Executors</strong> (optional):<ul> <li><code>crewai_executor</code>: LLM-based agents (requires <code>[crewai]</code>)</li> <li><code>batch_crewai_executor</code>: Batch execution of multiple crews (requires <code>[crewai]</code>)</li> </ul> </li> <li> <p><strong>Generation Executors</strong>:</p> <ul> <li><code>generate_executor</code>: Generate task tree JSON arrays from natural language requirements using LLM (requires <code>openai</code> or <code>anthropic</code> package)</li> </ul> </li> <li> <p><strong>Custom Executors</strong>: You create these</p> </li> <li>API calls</li> <li>Data processing</li> <li>File operations</li> <li>Anything you need!</li> </ol> <h3 id=real-world-analogy_3>Real-World Analogy<a class=headerlink href=#real-world-analogy_3 title="Permanent link">¶</a></h3> <p>Think of executors as specialized workers: - <strong>Plumber</strong> (executor) knows how to fix pipes (task type) - <strong>Electrician</strong> (executor) knows how to fix wiring (task type) - Each worker (executor) has specific skills (code)</p> <h3 id=in-code_3>In Code<a class=headerlink href=#in-code_3 title="Permanent link">¶</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a><span class=kn>from</span><span class=w> </span><span class=nn>apflow</span><span class=w> </span><span class=kn>import</span> <span class=n>BaseTask</span><span class=p>,</span> <span class=n>executor_register</span>
</span><span id=__span-4-2><a href=#__codelineno-4-2 id=__codelineno-4-2 name=__codelineno-4-2></a>
</span><span id=__span-4-3><a href=#__codelineno-4-3 id=__codelineno-4-3 name=__codelineno-4-3></a><span class=nd>@executor_register</span><span class=p>()</span>
</span><span id=__span-4-4><a href=#__codelineno-4-4 id=__codelineno-4-4 name=__codelineno-4-4></a><span class=k>class</span><span class=w> </span><span class=nc>MyCustomExecutor</span><span class=p>(</span><span class=n>BaseTask</span><span class=p>):</span>
</span><span id=__span-4-5><a href=#__codelineno-4-5 id=__codelineno-4-5 name=__codelineno-4-5></a><span class=w>    </span><span class=sd>"""My custom task executor"""</span>
</span><span id=__span-4-6><a href=#__codelineno-4-6 id=__codelineno-4-6 name=__codelineno-4-6></a>
</span><span id=__span-4-7><a href=#__codelineno-4-7 id=__codelineno-4-7 name=__codelineno-4-7></a>    <span class=nb>id</span> <span class=o>=</span> <span class=s2>"my_custom_executor"</span>
</span><span id=__span-4-8><a href=#__codelineno-4-8 id=__codelineno-4-8 name=__codelineno-4-8></a>    <span class=n>name</span> <span class=o>=</span> <span class=s2>"My Custom Executor"</span>
</span><span id=__span-4-9><a href=#__codelineno-4-9 id=__codelineno-4-9 name=__codelineno-4-9></a>
</span><span id=__span-4-10><a href=#__codelineno-4-10 id=__codelineno-4-10 name=__codelineno-4-10></a>    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>execute</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>inputs</span><span class=p>):</span>
</span><span id=__span-4-11><a href=#__codelineno-4-11 id=__codelineno-4-11 name=__codelineno-4-11></a>        <span class=c1># Your task logic here</span>
</span><span id=__span-4-12><a href=#__codelineno-4-12 id=__codelineno-4-12 name=__codelineno-4-12></a>        <span class=k>return</span> <span class=p>{</span><span class=s2>"result"</span><span class=p>:</span> <span class=s2>"done"</span><span class=p>}</span>
</span></code></pre></div> <h2 id=what-is-taskmanager>What is TaskManager?<a class=headerlink href=#what-is-taskmanager title="Permanent link">¶</a></h2> <p><strong>TaskManager</strong> is the orchestrator - it manages task execution, dependencies, and priorities. You don't need to worry about the details; it handles everything automatically.</p> <h3 id=what-taskmanager-does>What TaskManager Does<a class=headerlink href=#what-taskmanager-does title="Permanent link">¶</a></h3> <ol> <li><strong>Checks Dependencies</strong>: Ensures tasks wait for their dependencies</li> <li><strong>Schedules Execution</strong>: Runs tasks in the right order</li> <li><strong>Handles Failures</strong>: Manages errors and retries</li> <li><strong>Tracks Progress</strong>: Monitors task status</li> <li><strong>Manages Priorities</strong>: Executes high-priority tasks first</li> </ol> <h3 id=taskmanager-workflow>TaskManager Workflow<a class=headerlink href=#taskmanager-workflow title="Permanent link">¶</a></h3> <p>The following diagram shows how TaskManager orchestrates task execution:</p> <pre class=mermaid><code>flowchart TD
    Start([Task Tree Received]) --&gt; LoadTasks[Load All Tasks]
    LoadTasks --&gt; CheckDeps[Check Dependencies for Each Task]
    CheckDeps --&gt; ReadyTasks{Any Tasks&lt;br/&gt;Ready?}

    ReadyTasks --&gt;|No| Wait[Wait for Dependencies]
    Wait --&gt; CheckDeps

    ReadyTasks --&gt;|Yes| SortPriority[Sort by Priority]
    SortPriority --&gt; Execute[Execute Highest Priority Task]

    Execute --&gt; UpdateStatus[Update Status: in_progress]
    UpdateStatus --&gt; RunExecutor[Run Executor]
    RunExecutor --&gt; Success{Success?}

    Success --&gt;|Yes| Complete[Update Status: completed]
    Success --&gt;|No| Failed[Update Status: failed]

    Complete --&gt; CheckDependents[Check Dependent Tasks]
    Failed --&gt; CheckDependents

    CheckDependents --&gt; MoreReady{More Tasks&lt;br/&gt;Ready?}
    MoreReady --&gt;|Yes| SortPriority
    MoreReady --&gt;|No| AllDone{All Tasks&lt;br/&gt;Complete?}

    AllDone --&gt;|No| CheckDeps
    AllDone --&gt;|Yes| End([Execution Complete])

    style Start fill:#e1f5ff
    style Execute fill:#c8e6c9
    style Complete fill:#c8e6c9
    style End fill:#c8e6c9
    style Failed fill:#ffcdd2
    style Wait fill:#fff9c4</code></pre> <h3 id=real-world-analogy_4>Real-World Analogy<a class=headerlink href=#real-world-analogy_4 title="Permanent link">¶</a></h3> <p>TaskManager is like a project manager: - Knows what needs to be done (tasks) - Knows the order (dependencies) - Assigns work (execution) - Monitors progress (status tracking) - Handles problems (error management)</p> <h3 id=in-code_4>In Code<a class=headerlink href=#in-code_4 title="Permanent link">¶</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a><span class=c1># Create TaskManager</span>
</span><span id=__span-5-2><a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a><span class=n>task_manager</span> <span class=o>=</span> <span class=n>TaskManager</span><span class=p>(</span><span class=n>db</span><span class=p>)</span>
</span><span id=__span-5-3><a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a>
</span><span id=__span-5-4><a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a><span class=c1># Give it a task tree</span>
</span><span id=__span-5-5><a href=#__codelineno-5-5 id=__codelineno-5-5 name=__codelineno-5-5></a><span class=n>task_tree</span> <span class=o>=</span> <span class=n>TaskTreeNode</span><span class=p>(</span><span class=n>root_task</span><span class=p>)</span>
</span><span id=__span-5-6><a href=#__codelineno-5-6 id=__codelineno-5-6 name=__codelineno-5-6></a><span class=n>task_tree</span><span class=o>.</span><span class=n>add_child</span><span class=p>(</span><span class=n>TaskTreeNode</span><span class=p>(</span><span class=n>child_task</span><span class=p>))</span>
</span><span id=__span-5-7><a href=#__codelineno-5-7 id=__codelineno-5-7 name=__codelineno-5-7></a>
</span><span id=__span-5-8><a href=#__codelineno-5-8 id=__codelineno-5-8 name=__codelineno-5-8></a><span class=c1># TaskManager handles everything automatically</span>
</span><span id=__span-5-9><a href=#__codelineno-5-9 id=__codelineno-5-9 name=__codelineno-5-9></a><span class=k>await</span> <span class=n>task_manager</span><span class=o>.</span><span class=n>distribute_task_tree</span><span class=p>(</span><span class=n>task_tree</span><span class=p>)</span>
</span></code></pre></div> <h2 id=task-lifecycle>Task Lifecycle<a class=headerlink href=#task-lifecycle title="Permanent link">¶</a></h2> <p>Tasks go through different states during their lifecycle:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-6-1><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a>pending → in_progress → completed
</span><span id=__span-6-2><a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a>              │
</span><span id=__span-6-3><a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a>              └──&gt; failed
</span><span id=__span-6-4><a href=#__codelineno-6-4 id=__codelineno-6-4 name=__codelineno-6-4></a>              │
</span><span id=__span-6-5><a href=#__codelineno-6-5 id=__codelineno-6-5 name=__codelineno-6-5></a>              └──&gt; cancelled
</span></code></pre></div> <h3 id=states-explained>States Explained<a class=headerlink href=#states-explained title="Permanent link">¶</a></h3> <ul> <li><strong>pending</strong>: Task is created but not yet executed</li> <li><strong>in_progress</strong>: Task is currently running</li> <li><strong>completed</strong>: Task finished successfully</li> <li><strong>failed</strong>: Task execution failed</li> <li><strong>cancelled</strong>: Task was cancelled before completion</li> </ul> <h3 id=visual-flow>Visual Flow<a class=headerlink href=#visual-flow title="Permanent link">¶</a></h3> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a>Create Task → pending
</span><span id=__span-7-2><a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a>     │
</span><span id=__span-7-3><a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a>     ▼
</span><span id=__span-7-4><a href=#__codelineno-7-4 id=__codelineno-7-4 name=__codelineno-7-4></a>Execute Task → in_progress
</span><span id=__span-7-5><a href=#__codelineno-7-5 id=__codelineno-7-5 name=__codelineno-7-5></a>     │
</span><span id=__span-7-6><a href=#__codelineno-7-6 id=__codelineno-7-6 name=__codelineno-7-6></a>     ├──&gt; Success → completed
</span><span id=__span-7-7><a href=#__codelineno-7-7 id=__codelineno-7-7 name=__codelineno-7-7></a>     │
</span><span id=__span-7-8><a href=#__codelineno-7-8 id=__codelineno-7-8 name=__codelineno-7-8></a>     ├──&gt; Error → failed
</span><span id=__span-7-9><a href=#__codelineno-7-9 id=__codelineno-7-9 name=__codelineno-7-9></a>     │
</span><span id=__span-7-10><a href=#__codelineno-7-10 id=__codelineno-7-10 name=__codelineno-7-10></a>     └──&gt; Cancelled → cancelled
</span></code></pre></div> <h2 id=priorities>Priorities<a class=headerlink href=#priorities title="Permanent link">¶</a></h2> <p><strong>Priority</strong> controls execution order when multiple tasks are ready to run. Lower numbers = higher priority.</p> <h3 id=priority-levels>Priority Levels<a class=headerlink href=#priority-levels title="Permanent link">¶</a></h3> <ul> <li><strong>0</strong>: Urgent (highest priority)</li> <li><strong>1</strong>: High</li> <li><strong>2</strong>: Normal (default)</li> <li><strong>3</strong>: Low (lowest priority)</li> </ul> <h3 id=example>Example<a class=headerlink href=#example title="Permanent link">¶</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a><span class=c1># Urgent task runs first</span>
</span><span id=__span-8-2><a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a><span class=n>urgent</span> <span class=o>=</span> <span class=k>await</span> <span class=n>task_repository</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span>
</span><span id=__span-8-3><a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"urgent_task"</span><span class=p>,</span>
</span><span id=__span-8-4><a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a>    <span class=n>priority</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>  <span class=c1># Executes first</span>
</span><span id=__span-8-5><a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a>    <span class=o>...</span>
</span><span id=__span-8-6><a href=#__codelineno-8-6 id=__codelineno-8-6 name=__codelineno-8-6></a><span class=p>)</span>
</span><span id=__span-8-7><a href=#__codelineno-8-7 id=__codelineno-8-7 name=__codelineno-8-7></a>
</span><span id=__span-8-8><a href=#__codelineno-8-8 id=__codelineno-8-8 name=__codelineno-8-8></a><span class=c1># Normal task runs later</span>
</span><span id=__span-8-9><a href=#__codelineno-8-9 id=__codelineno-8-9 name=__codelineno-8-9></a><span class=n>normal</span> <span class=o>=</span> <span class=k>await</span> <span class=n>task_repository</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span>
</span><span id=__span-8-10><a href=#__codelineno-8-10 id=__codelineno-8-10 name=__codelineno-8-10></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"normal_task"</span><span class=p>,</span>
</span><span id=__span-8-11><a href=#__codelineno-8-11 id=__codelineno-8-11 name=__codelineno-8-11></a>    <span class=n>priority</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>  <span class=c1># Executes after urgent</span>
</span><span id=__span-8-12><a href=#__codelineno-8-12 id=__codelineno-8-12 name=__codelineno-8-12></a>    <span class=o>...</span>
</span><span id=__span-8-13><a href=#__codelineno-8-13 id=__codelineno-8-13 name=__codelineno-8-13></a><span class=p>)</span>
</span></code></pre></div> <h2 id=putting-it-all-together>Putting It All Together<a class=headerlink href=#putting-it-all-together title="Permanent link">¶</a></h2> <p>Here's how these concepts work together:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a><span class=c1># 1. Create TaskManager (the orchestrator)</span>
</span><span id=__span-9-2><a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a><span class=n>task_manager</span> <span class=o>=</span> <span class=n>TaskManager</span><span class=p>(</span><span class=n>db</span><span class=p>)</span>
</span><span id=__span-9-3><a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a>
</span><span id=__span-9-4><a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a><span class=c1># 2. Create tasks with dependencies</span>
</span><span id=__span-9-5><a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a><span class=n>task_a</span> <span class=o>=</span> <span class=k>await</span> <span class=n>task_repository</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span>
</span><span id=__span-9-6><a href=#__codelineno-9-6 id=__codelineno-9-6 name=__codelineno-9-6></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"fetch_data"</span><span class=p>,</span>
</span><span id=__span-9-7><a href=#__codelineno-9-7 id=__codelineno-9-7 name=__codelineno-9-7></a>    <span class=n>priority</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-9-8><a href=#__codelineno-9-8 id=__codelineno-9-8 name=__codelineno-9-8></a>    <span class=o>...</span>
</span><span id=__span-9-9><a href=#__codelineno-9-9 id=__codelineno-9-9 name=__codelineno-9-9></a><span class=p>)</span>
</span><span id=__span-9-10><a href=#__codelineno-9-10 id=__codelineno-9-10 name=__codelineno-9-10></a>
</span><span id=__span-9-11><a href=#__codelineno-9-11 id=__codelineno-9-11 name=__codelineno-9-11></a><span class=n>task_b</span> <span class=o>=</span> <span class=k>await</span> <span class=n>task_repository</span><span class=o>.</span><span class=n>create_task</span><span class=p>(</span>
</span><span id=__span-9-12><a href=#__codelineno-9-12 id=__codelineno-9-12 name=__codelineno-9-12></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"process_data"</span><span class=p>,</span>
</span><span id=__span-9-13><a href=#__codelineno-9-13 id=__codelineno-9-13 name=__codelineno-9-13></a>    <span class=n>parent_id</span><span class=o>=</span><span class=n>root</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>  <span class=c1># Organizational: child of root</span>
</span><span id=__span-9-14><a href=#__codelineno-9-14 id=__codelineno-9-14 name=__codelineno-9-14></a>    <span class=n>dependencies</span><span class=o>=</span><span class=p>[{</span><span class=s2>"id"</span><span class=p>:</span> <span class=n>task_a</span><span class=o>.</span><span class=n>id</span><span class=p>}],</span>  <span class=c1># Execution: waits for A</span>
</span><span id=__span-9-15><a href=#__codelineno-9-15 id=__codelineno-9-15 name=__codelineno-9-15></a>    <span class=n>priority</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
</span><span id=__span-9-16><a href=#__codelineno-9-16 id=__codelineno-9-16 name=__codelineno-9-16></a>    <span class=o>...</span>
</span><span id=__span-9-17><a href=#__codelineno-9-17 id=__codelineno-9-17 name=__codelineno-9-17></a><span class=p>)</span>
</span><span id=__span-9-18><a href=#__codelineno-9-18 id=__codelineno-9-18 name=__codelineno-9-18></a>
</span><span id=__span-9-19><a href=#__codelineno-9-19 id=__codelineno-9-19 name=__codelineno-9-19></a><span class=c1># 3. Build task tree (organization)</span>
</span><span id=__span-9-20><a href=#__codelineno-9-20 id=__codelineno-9-20 name=__codelineno-9-20></a><span class=n>tree</span> <span class=o>=</span> <span class=n>TaskTreeNode</span><span class=p>(</span><span class=n>root</span><span class=p>)</span>
</span><span id=__span-9-21><a href=#__codelineno-9-21 id=__codelineno-9-21 name=__codelineno-9-21></a><span class=n>tree</span><span class=o>.</span><span class=n>add_child</span><span class=p>(</span><span class=n>TaskTreeNode</span><span class=p>(</span><span class=n>task_a</span><span class=p>))</span>
</span><span id=__span-9-22><a href=#__codelineno-9-22 id=__codelineno-9-22 name=__codelineno-9-22></a><span class=n>tree</span><span class=o>.</span><span class=n>add_child</span><span class=p>(</span><span class=n>TaskTreeNode</span><span class=p>(</span><span class=n>task_b</span><span class=p>))</span>
</span><span id=__span-9-23><a href=#__codelineno-9-23 id=__codelineno-9-23 name=__codelineno-9-23></a>
</span><span id=__span-9-24><a href=#__codelineno-9-24 id=__codelineno-9-24 name=__codelineno-9-24></a><span class=c1># 4. TaskManager handles execution automatically</span>
</span><span id=__span-9-25><a href=#__codelineno-9-25 id=__codelineno-9-25 name=__codelineno-9-25></a><span class=c1># - Checks dependencies</span>
</span><span id=__span-9-26><a href=#__codelineno-9-26 id=__codelineno-9-26 name=__codelineno-9-26></a><span class=c1># - Executes in order (A, then B)</span>
</span><span id=__span-9-27><a href=#__codelineno-9-27 id=__codelineno-9-27 name=__codelineno-9-27></a><span class=c1># - Tracks status</span>
</span><span id=__span-9-28><a href=#__codelineno-9-28 id=__codelineno-9-28 name=__codelineno-9-28></a><span class=c1># - Handles errors</span>
</span><span id=__span-9-29><a href=#__codelineno-9-29 id=__codelineno-9-29 name=__codelineno-9-29></a><span class=k>await</span> <span class=n>task_manager</span><span class=o>.</span><span class=n>distribute_task_tree</span><span class=p>(</span><span class=n>tree</span><span class=p>)</span>
</span></code></pre></div> <h2 id=key-takeaways>Key Takeaways<a class=headerlink href=#key-takeaways title="Permanent link">¶</a></h2> <ol> <li><strong>Task</strong>: A unit of work with inputs and results</li> <li><strong>Task Tree</strong>: Hierarchical organization of tasks</li> <li><strong>Dependencies</strong>: Control execution order (not parent-child!)</li> <li><strong>Executor</strong>: The code that runs a task</li> <li><strong>TaskManager</strong>: Automatically orchestrates everything</li> <li><strong>Priority</strong>: Controls execution order (lower = higher priority)</li> </ol> <h2 id=next-steps>Next Steps<a class=headerlink href=#next-steps title="Permanent link">¶</a></h2> <p>Now that you understand the core concepts:</p> <ul> <li><strong>Ready to code?</strong> → <a href=../quick-start/ >Quick Start Guide</a></li> <li><strong>Want examples?</strong> → <a href=../../examples/basic_task/ >Basic Examples</a></li> <li><strong>Need details?</strong> → <a href=../../guides/task-orchestration/ >Task Orchestration Guide</a></li> </ul> <hr> <p><strong>Confused about something?</strong> Check the <a href=../../guides/faq/ >FAQ</a> or continue to <a href=../quick-start/ >Quick Start</a> to see these concepts in action!</p> <h2 id=task-data-fields-inputs-params-and-result>Task Data Fields: inputs, params, and result<a class=headerlink href=#task-data-fields-inputs-params-and-result title="Permanent link">¶</a></h2> <p>To ensure clean, composable, and predictable task orchestration, apflow enforces a strict separation of concerns for task data fields:</p> <ul> <li><strong>inputs</strong>: Only business input data for the task. This is the data the executor will process (e.g., text to summarize, file to process, etc.). It should never include configuration, credentials, or executor-specific settings.</li> <li><strong>params</strong>: Only executor configuration and setup parameters (e.g., API keys, model names, connection info). These are used to initialize the executor and are not passed as business data.</li> <li><strong>result</strong>: Only the pure business output of the task. This is the value that downstream tasks will consume as their <code>inputs</code>. The <code>result</code> should not include logs, token usage, internal metadata, or any executor-specific structure—just the output relevant to the user or next task.</li> </ul> <p><strong>Why this matters:</strong> This separation ensures that: - Task data flows are clean and composable in a task tree. - Executors are reusable and predictable. - Downstream tasks can directly use upstream results as their inputs, without worrying about mixed-in configuration or irrelevant metadata.</p> <p><strong>Best Practice:</strong> - Executors should only use <code>params</code> for initialization, process <code>inputs</code> as business data, and return a clean <code>result</code>. - Never mix configuration into <code>inputs</code> or <code>result</code>.</p> <p>For detailed field definitions and examples, see the <a href=https://flow-docs.aipartnerup.com/protocol/03-data-model/ >Data Model Protocol documentation</a>.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component=top hidden type=button> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2025 aipartnerup </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> <div class=md-social> <a class=md-social__link href=https://github.com/aipartnerup/apflow rel=noopener target=_blank title=github.com> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a class=md-social__link href=https://pypi.org/project/apflow/ rel=noopener target=_blank title=pypi.org> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate", "content.code.copy", "content.code.select"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>